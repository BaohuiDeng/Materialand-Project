{"ast":null,"code":"import _defineProperty from \"/Users/baohuideng/Desktop/testdeployUDE-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/baohuideng/Desktop/testdeployUDE-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/baohuideng/Desktop/testdeployUDE-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/baohuideng/Desktop/testdeployUDE-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/baohuideng/Desktop/testdeployUDE-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/baohuideng/Desktop/testdeployUDE-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/baohuideng/Desktop/testdeployUDE-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/baohuideng/Desktop/testdeployUDE-final/client/src/components/Myposts.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col } from \"reactstrap\";\nimport Footer from './Footer';\nimport { Button, Input } from 'reactstrap';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios';\nimport like from '../assets/images/like.png';\nimport dislike from '../assets/images/dislike.png';\nimport download from '../assets/images/download.png';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { UrlContext } from '../contexts/urlContext';\nimport moment from 'moment';\n\nvar AllPosts = /*#__PURE__*/function (_Component) {\n  _inherits(AllPosts, _Component);\n\n  function AllPosts() {\n    var _this;\n\n    _classCallCheck(this, AllPosts);\n\n    var token = localStorage.usertoken;\n    var decoded = jwt_decode(token);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AllPosts).call(this));\n\n    _this.getMyPost = function (e) {\n      axios.post(_this.state.serverUrl + 'get_post', {\n        email: _this.state.email\n      }, {\n        headers: {\n          authorization: 'usertoken'\n        }\n      }).then(function (response) {\n        console.log(response);\n\n        _this.setState({\n          posts: response.data\n        });\n\n        console.log('Data has been received!');\n      });\n    };\n\n    _this.handleFile = function (e) {\n      var file = e.target.files[0];\n\n      _this.setState({\n        file: file\n      });\n    };\n\n    _this.updatePost = function (e) {\n      var title = _this.state.title;\n      var content = _this.state.content;\n      var category = _this.state.category;\n      var id = e.$oid;\n      var formdata = new FormData();\n      formdata.append('id', id);\n      formdata.append('category', category);\n      formdata.append('title', title);\n      formdata.append('content', content);\n      axios({\n        url: _this.state.serverUrl + 'updatepost',\n        method: 'POST',\n        headers: {\n          authorization: 'usertoken'\n        },\n        data: formdata\n      }).then(function (response) {\n        _this.getMyPost();\n\n        _this.setState({\n          modalIsOpen: false\n        });\n      });\n    };\n\n    _this.deletePost = function (e) {\n      axios({\n        url: _this.state.serverUrl + 'deletepost',\n        method: 'DELETE',\n        data: {\n          \"id\": e.$oid\n        }\n      }).then(function (response) {\n        console.log(\"updated new post!\");\n\n        _this.getMyPost();\n\n        _this.setState({\n          'msg': response.data.msg,\n          'deleteBoxModalOpen': false\n        });\n      });\n    };\n\n    _this.displayMyPost = function (posts) {\n      if (!posts.length) return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jumbotron mx-auto mt-3\",\n        style: {\n          \"width\": \"70%\"\n        },\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 34\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"text-center\",\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 99\n        }\n      }, \"There is currently no posts yet\"), \" \");\n      return posts.map(function (posts, index) {\n        var _ref;\n\n        return /*#__PURE__*/React.createElement(Container, {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Row, {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          lg: {\n            span: 3,\n            offset: 2\n          },\n          md: {\n            span: 1,\n            offset: 1\n          },\n          sm: \"12\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \" jumbotron mt-5\",\n          style: (_ref = {\n            \"width\": \"70%\",\n            \"backgroundColor\": \"white\",\n            \"outlineStyle\": \"solid\",\n            \"outlineWidth\": \"1px\",\n            \"outlineColor\": \"#5c7d92\"\n          }, _defineProperty(_ref, \"backgroundColor\", \"white\"), _defineProperty(_ref, \"boxShadow\", \"5px 5px 5px 5px #dfebf2\"), _ref),\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-3 mt-0\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: _this.getImage(posts.userImage),\n          style: {\n            \"width\": \"110px\",\n            \"height\": \"110px\",\n            \"margin-top\": \"-10px\",\n            \"borderRadius\": \"50%\",\n            \"border\": 'solid 1px lightgrey'\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 21\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-8\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          className: \"mt-2 ml-2\",\n          style: {\n            color: '#5c7d92',\n            fontWeight: \"bold\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 11\n          }\n        }, posts.username), /*#__PURE__*/React.createElement(\"small\", {\n          className: \"text-muted mx-3\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 11\n          }\n        }, moment(posts.date.$date).format(\"DD/MMM/YYYY\")), /*#__PURE__*/React.createElement(Button, {\n          className: \"mx-2\",\n          outline: true,\n          color: \"info\",\n          size: \"sm\",\n          onClick: function onClick() {\n            return _this.toggleModal(posts);\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 9\n          }\n        }, \"Update\"), /*#__PURE__*/React.createElement(Button, {\n          outline: true,\n          color: \"danger\",\n          size: \"sm\",\n          onClick: function onClick() {\n            return _this.toggledeleteModal(posts);\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 9\n          }\n        }, \"Delete Post\"))), /*#__PURE__*/React.createElement(\"hr\", {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-7\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h2\", {\n          className: \"text-left ml-3\",\n          style: {\n            color: 'black'\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 19\n          }\n        }, posts.title)), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1 \",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          className: \"ml-3\",\n          style: {\n            \"color\": \"darkgrey\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 21\n          }\n        }, posts.like.length)), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: like,\n          className: \"like\",\n          title: \"like\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: dislike,\n          className: \"dislike\",\n          title: \"dislike\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1 mx-2\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          style: {\n            \"color\": \"darkgrey\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 21\n          }\n        }, posts.dislike.length))), /*#__PURE__*/React.createElement(\"p\", {\n          className: \" text-left ml-3\",\n          style: {\n            \"word-wrap\": \"break-word\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font-weight-bold\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 83\n          }\n        }, \"Category:\"), \" \", posts.category), /*#__PURE__*/React.createElement(\"p\", {\n          className: \" text-left ml-3\",\n          style: {\n            \"word-wrap\": \"break-word\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }\n        }, posts.content), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row my-4 justify-content-start\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: download,\n          className: \"downloadImg\",\n          onClick: _this.getFile.bind(_assertThisInitialized(_assertThisInitialized(_this)), posts),\n          title: \"download\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 21\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-3\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"text-nowrap\",\n          style: {\n            \"width\": \"6rem\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 21\n          }\n        }, posts.file, /*#__PURE__*/React.createElement(\"br\", {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(Button, {\n          className: \"mt-2\",\n          outline: true,\n          color: \"info\",\n          size: \"sm\",\n          onClick: function onClick() {\n            return _this.toggleModal1(posts);\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 23\n          }\n        }, \"Update file\")))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row postBox mx-0 \",\n          style: {\n            \"backgroundColor\": \"#f0f0f0\",\n            \"boxShadow\": \"4px 4px 4px 4px #f0f0f0\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }\n        }, posts.comments.map(function (value, index) {\n          return /*#__PURE__*/React.createElement(React.Fragment, {\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"row\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"col-sm-8\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            className: \"mt-2 ml-2 small\",\n            style: {\n              color: '#5c7d92',\n              fontWeight: \"bold\"\n            },\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 19\n            }\n          }, posts.comments[index]['username']), /*#__PURE__*/React.createElement(\"small\", {\n            className: \"text-muted mx-3\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 19\n            }\n          }, moment(posts.comments[index].date.$date).format(\"DD/MMM/YYYY\")))), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"row col-sm-12\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"p\", {\n            className: \" text-left ml-3\",\n            style: {\n              \"word-wrap\": \"break-word\"\n            },\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }\n          }, \" \", posts.comments[index]['comment']), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"divider\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }\n          })));\n        }))))));\n      });\n    };\n\n    _this.state = {\n      email: decoded.identity.email,\n      username: decoded.identity.username,\n      title: '',\n      content: '',\n      category: '',\n      files: '',\n      posts: [],\n      msg: '',\n      show: true,\n      modalIsOpen: false,\n      serverUrl: UrlContext._currentValue,\n      id: null,\n      Open: false,\n      deleteBoxModalOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(AllPosts, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getMyPost();\n    } // # function 1 retrieve my posts\n\n  }, {\n    key: \"toggleModal\",\n    value: function toggleModal(posts) {\n      this.setState({\n        modalIsOpen: !this.state.modalIsOpen,\n        id: posts._id,\n        title: posts.title,\n        content: posts.content,\n        category: posts.category\n      });\n    }\n  }, {\n    key: \"toggleModal1\",\n    value: function toggleModal1(posts) {\n      this.setState({\n        Open: !this.state.Open,\n        id: posts._id,\n        file: posts.file\n      });\n    }\n  }, {\n    key: \"toggledeleteModal\",\n    value: function toggledeleteModal(posts) {\n      this.setState({\n        deleteBoxModalOpen: !this.state.deleteBoxModalOpen,\n        id: posts._id\n      });\n    } // # function 2 handle file\n\n  }, {\n    key: \"updateFile\",\n    //  # function 3 update file\n    value: function updateFile(e) {\n      var _this2 = this;\n\n      var file = this.state.file;\n      var id = e.$oid;\n      var formdata = new FormData();\n      formdata.append('file', file);\n      formdata.append('id', id);\n      axios({\n        url: this.state.serverUrl + 'updatefile',\n        method: 'POST',\n        headers: {\n          authorization: 'usertoken'\n        },\n        data: formdata\n      }).then(function (response) {\n        _this2.getMyPost();\n\n        _this2.setState({\n          'msg': response.data.msg,\n          'Open': false\n        });\n      });\n    } // # function 4 update post\n\n  }, {\n    key: \"getFile\",\n    // # function 6 download file\n    value: function getFile(e) {\n      var fName = e.file;\n      var urlFile = this.state.serverUrl + 'file/' + fName;\n      axios({\n        url: urlFile,\n        //your url\n        method: 'Get',\n        responseType: 'blob',\n        data: {\n          \"file\": fName\n        } // important\n\n      }).then(function (response) {\n        var url = window.URL.createObjectURL(new Blob([response.data]));\n        var link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', fName); //or any other extension\n\n        document.body.appendChild(link);\n        link.click();\n      });\n    } //  # function 7 profile image\n\n  }, {\n    key: \"getImage\",\n    value: function getImage(file) {\n      var img = file;\n\n      if (file !== 'images/userProfile.png') {\n        img = this.state.serverUrl + 'file/' + file;\n      }\n\n      return img;\n    } // # function 8 loop through posts\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"blog mt-5 mx-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"mx-auto offset-lg-6 ml-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 24\n        }\n      }, \"  \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mx-auto offset-lg-6 ml-5 text-success font-weight-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 24\n        }\n      }, this.state.msg)), this.displayMyPost(this.state.posts)), /*#__PURE__*/React.createElement(Modal, {\n        isOpen: this.state.modalIsOpen,\n        id: this.state.id,\n        title: this.state.title,\n        content: this.state.content,\n        category: this.state.category,\n        file: this.state.file,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(ModalHeader, {\n        toggle: this.toggleModal.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 23\n        }\n      }, \"Update your post\"), /*#__PURE__*/React.createElement(ModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        noValidate: true,\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }\n      }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"title\",\n        className: \"form-control\",\n        name: \"title\",\n        placeholder: this.state.title,\n        value: this.state.title,\n        onChange: function onChange(e) {\n          _this3.setState(_defineProperty({}, e.target.name, e.target.value));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"category\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 9\n        }\n      }, \"Category\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"select\",\n        name: \"category\",\n        id: \"category\",\n        placeholder: this.state.category,\n        onChange: function onChange(e) {\n          _this3.setState({\n            'category': e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\",\n        disabled: true,\n        selected: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 29\n        }\n      }, this.state.category), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"Advance Web Technology\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 29\n        }\n      }, \"Advance Web Technology\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"Peer to Peer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 29\n        }\n      }, \"Peer to Peer\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"Internet of Things\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 29\n        }\n      }, \"Internet of Things\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 29\n        }\n      }, \" Content\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"content\",\n        className: \"form-control\",\n        style: {\n          height: \"120px\"\n        },\n        name: \"content\",\n        placeholder: this.state.content,\n        value: this.state.content,\n        onChange: function onChange(e) {\n          _this3.setState({\n            'content': e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: function onClick(e) {\n          return _this3.updatePost(_this3.state.id);\n        },\n        className: \"btn btn-lg btn-primary btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 25\n        }\n      }, \"Update\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.toggleModal.bind(this),\n        className: \"btn btn-lg btn-dark btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 25\n        }\n      }, \"Cancel\")))), /*#__PURE__*/React.createElement(Modal, {\n        isOpen: this.state.Open,\n        id: this.state.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(ModalHeader, {\n        toggle: this.toggleModal1.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 23\n        }\n      }, \"Update your file\", /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 25\n        }\n      }, this.state.msg)), /*#__PURE__*/React.createElement(ModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"my-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 27\n        }\n      }, \" Select File\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"mb-2 \",\n        type: \"file\",\n        name: \"file\",\n        onChange: function onChange(e) {\n          return _this3.handleFile(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: function onClick() {\n          return _this3.updateFile(_this3.state.id);\n        },\n        className: \"btn btn-lg btn-primary btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 25\n        }\n      }, \"Update\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.toggleModal1.bind(this),\n        className: \"btn btn-lg btn-dark btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 25\n        }\n      }, \"Cancel\"))), /*#__PURE__*/React.createElement(Modal, {\n        isOpen: this.state.deleteBoxModalOpen,\n        id: this.state.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(ModalHeader, {\n        toggle: this.toggledeleteModal.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 23\n        }\n      }, \"Delete the Post\"), /*#__PURE__*/React.createElement(ModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"my-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 27\n        }\n      }, \"Do you really want to delete your Post?\")), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: function onClick(e) {\n          _this3.deletePost(id);\n        },\n        className: \"btn btn-lg btn-dark btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 25\n        }\n      }, \"Delete\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.toggledeleteModal.bind(this),\n        className: \"btn btn-lg btn-primary  btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 25\n        }\n      }, \"Cancel\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 14\n        }\n      })));\n    }\n  }]);\n\n  return AllPosts;\n}(Component);\n\nexport { AllPosts as default };","map":{"version":3,"sources":["/Users/baohuideng/Desktop/testdeployUDE-final/client/src/components/Myposts.js"],"names":["React","Component","Container","Row","Col","Footer","Button","Input","jwt_decode","axios","like","dislike","download","Modal","ModalHeader","ModalBody","UrlContext","moment","AllPosts","token","localStorage","usertoken","decoded","getMyPost","e","post","state","serverUrl","email","headers","authorization","then","response","console","log","setState","posts","data","handleFile","file","target","files","updatePost","title","content","category","id","$oid","formdata","FormData","append","url","method","modalIsOpen","deletePost","msg","displayMyPost","length","map","index","span","offset","getImage","userImage","color","fontWeight","username","date","$date","format","toggleModal","toggledeleteModal","getFile","bind","toggleModal1","comments","value","identity","show","_currentValue","Open","deleteBoxModalOpen","_id","fName","urlFile","responseType","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","img","onSubmit","name","height","updateFile"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,SAAR,EAAmBC,GAAnB,EAAwBC,GAAxB,QAAkC,YAAlC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA6B,YAA7B;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,2BAAjB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,SAAQC,KAAR,EAAeC,WAAf,EAA2BC,SAA3B,QAA2C,YAA3C;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,OAAOC,MAAP,MAAmB,QAAnB;;IAGsBC,Q;;;AACpB,sBAAc;AAAA;;AAAA;;AACZ,QAAMC,KAAK,GAAGC,YAAY,CAACC,SAA3B;AACA,QAAMC,OAAO,GAAGd,UAAU,CAACW,KAAD,CAA1B;AACA;;AAHY,UA0BZI,SA1BY,GA0BA,UAACC,CAAD,EAAO;AACff,MAAAA,KAAK,CAACgB,IAAN,CAAW,MAAKC,KAAL,CAAWC,SAAX,GAAsB,UAAjC,EAA6C;AACrCC,QAAAA,KAAK,EAAC,MAAKF,KAAL,CAAWE;AADoB,OAA7C,EAEM;AACFC,QAAAA,OAAO,EAAC;AACJC,UAAAA,aAAa,EAAC;AADV;AADN,OAFN,EAMGC,IANH,CAMQ,UAACC,QAAD,EAAc;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,cAAKG,QAAL,CAAc;AAACC,UAAAA,KAAK,EAACJ,QAAQ,CAACK;AAAhB,SAAd;;AACAJ,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACD,OAVH;AAWH,KAtCW;;AAAA,UA8DZI,UA9DY,GA8DC,UAACd,CAAD,EAAO;AAClB,UAAIe,IAAI,GAAEf,CAAC,CAACgB,MAAF,CAASC,KAAT,CAAe,CAAf,CAAV;;AACA,YAAKN,QAAL,CAAc;AAACI,QAAAA,IAAI,EAACA;AAAN,OAAd;AACH,KAjEa;;AAAA,UAyFZG,UAzFY,GAyFD,UAAClB,CAAD,EAAK;AACd,UAAImB,KAAK,GAAG,MAAKjB,KAAL,CAAWiB,KAAvB;AACA,UAAIC,OAAO,GAAG,MAAKlB,KAAL,CAAWkB,OAAzB;AACA,UAAIC,QAAQ,GAAG,MAAKnB,KAAL,CAAWmB,QAA1B;AACA,UAAIC,EAAE,GAAGtB,CAAC,CAACuB,IAAX;AACA,UAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,IAAhB,EAAqBJ,EAArB;AACAE,MAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA2BL,QAA3B;AACAG,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAwBP,KAAxB;AACAK,MAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA0BN,OAA1B;AACAnC,MAAAA,KAAK,CAAC;AACL0C,QAAAA,GAAG,EAAE,MAAKzB,KAAL,CAAWC,SAAX,GAAuB,YADvB;AAEJyB,QAAAA,MAAM,EAAE,MAFJ;AAGJvB,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAC;AADP,SAHL;AAMJO,QAAAA,IAAI,EAAEW;AANF,OAAD,CAAL,CAOGjB,IAPH,CAOQ,UAACC,QAAD,EAAc;AACtB,cAAKT,SAAL;;AACA,cAAKY,QAAL,CAAc;AACZkB,UAAAA,WAAW,EAAE;AADD,SAAd;AAGA,OAZA;AAaD,KAhHW;;AAAA,UAkHZC,UAlHY,GAkHC,UAAC9B,CAAD,EAAO;AAClBf,MAAAA,KAAK,CAAC;AACJ0C,QAAAA,GAAG,EAAE,MAAKzB,KAAL,CAAWC,SAAX,GAAsB,YADvB;AAEJyB,QAAAA,MAAM,EAAE,QAFJ;AAGJf,QAAAA,IAAI,EAAC;AACH,gBAAMb,CAAC,CAACuB;AADL;AAHD,OAAD,CAAL,CAMGhB,IANH,CAMQ,UAACC,QAAD,EAAc;AACpBC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;;AACF,cAAKX,SAAL;;AACA,cAAKY,QAAL,CAAc;AACZ,iBAAOH,QAAQ,CAACK,IAAT,CAAckB,GADT;AAEZ,gCAAsB;AAFV,SAAd;AAIC,OAbD;AAcD,KAjIW;;AAAA,UA+JZC,aA/JY,GA+JI,UAACpB,KAAD,EAAU;AACtB,UAAG,CAACA,KAAK,CAACqB,MAAV,EAAkB,oBAAO;AAAK,QAAA,SAAS,EAAC,wBAAf;AAAwC,QAAA,KAAK,EAAE;AAAC,mBAAQ;AAAT,SAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAiE;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAAjE,MAAP;AAClB,aAAOrB,KAAK,CAACsB,GAAN,CAAU,UAACtB,KAAD,EAAOuB,KAAP;AAAA;;AAAA,4BACb,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,GAAD;AAAK,UAAA,EAAE,EAAE;AAAEC,YAAAA,IAAI,EAAE,CAAR;AAAWC,YAAAA,MAAM,EAAE;AAAnB,WAAT;AAAiC,UAAA,EAAE,EAAE;AAACD,YAAAA,IAAI,EAAC,CAAN;AAAQC,YAAAA,MAAM,EAAC;AAAf,WAArC;AAAyD,UAAA,EAAE,EAAC,IAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACF;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAiC,UAAA,KAAK;AAAG,qBAAQ,KAAX;AAAiB,+BAAkB,OAAnC;AAA2C,4BAAgB,OAA3D;AAAmE,4BAAe,KAAlF;AAAwF,4BAAe;AAAvG,sDAAmI,OAAnI,yBAA2I,WAA3I,EAAuJ,yBAAvJ,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACM;AAAK,UAAA,GAAG,EAAE,MAAKC,QAAL,CAAc1B,KAAK,CAAC2B,SAApB,CAAV;AACA,UAAA,KAAK,EAAE;AAAC,qBAAS,OAAV;AAAkB,sBAAS,OAA3B;AAAmC,0BAAa,OAAhD;AACP,4BAAgB,KADT;AACgB,sBAAS;AADzB,WADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADN,CADA,eAME;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACN;AAAG,UAAA,SAAS,EAAC,WAAb;AAA0B,UAAA,KAAK,EAAE;AAACC,YAAAA,KAAK,EAAC,SAAP;AAAiBC,YAAAA,UAAU,EAAC;AAA5B,WAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAuE7B,KAAK,CAAC8B,QAA7E,CADM,eAEN;AAAO,UAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAoCjD,MAAM,CAACmB,KAAK,CAAC+B,IAAN,CAAWC,KAAZ,CAAN,CAAyBC,MAAzB,CAAgC,aAAhC,CAApC,CAFM,eAGR,oBAAC,MAAD;AAAQ,UAAA,SAAS,EAAC,MAAlB;AAAyB,UAAA,OAAO,MAAhC;AAAiC,UAAA,KAAK,EAAC,MAAvC;AAA8C,UAAA,IAAI,EAAC,IAAnD;AAAwD,UAAA,OAAO,EAAE;AAAA,mBAAI,MAAKC,WAAL,CAAiBlC,KAAjB,CAAJ;AAAA,WAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHQ,eAIR,oBAAC,MAAD;AAAQ,UAAA,OAAO,MAAf;AAAgB,UAAA,KAAK,EAAC,QAAtB;AAA+B,UAAA,IAAI,EAAC,IAApC;AAAyC,UAAA,OAAO,EAAE;AAAA,mBAAI,MAAKmC,iBAAL,CAAuBnC,KAAvB,CAAJ;AAAA,WAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAJQ,CANF,CADA,eAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAdA,eAeA;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAI,UAAA,SAAS,EAAC,gBAAd;AAA+B,UAAA,KAAK,EAAE;AAAC4B,YAAAA,KAAK,EAAC;AAAP,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAwD5B,KAAK,CAACO,KAA9D,CADF,CADF,eAIE;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAI,UAAA,SAAS,EAAC,MAAd;AAAqB,UAAA,KAAK,EAAE;AAAC,qBAAS;AAAV,WAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGP,KAAK,CAAC1B,IAAN,CAAW+C,MADd,CADJ,CAJF,eASE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAK,UAAA,GAAG,EAAE/C,IAAV;AAAgB,UAAA,SAAS,EAAC,MAA1B;AAAiC,UAAA,KAAK,EAAC,MAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CATF,eAYE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAK,UAAA,GAAG,EAAEC,OAAV;AAAmB,UAAA,SAAS,EAAC,SAA7B;AAAuC,UAAA,KAAK,EAAC,SAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAZF,eAeE;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAI,UAAA,KAAK,EAAE;AAAC,qBAAS;AAAV,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGyB,KAAK,CAACzB,OAAN,CAAc8C,MADjB,CADJ,CAfF,CAfA,eAoCA;AAAG,UAAA,SAAS,EAAC,iBAAb;AAA+B,UAAA,KAAK,EAAE;AAAC,yBAAa;AAAd,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAoE;AAAM,UAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAApE,OAAyHrB,KAAK,CAACS,QAA/H,CApCA,eAqCA;AAAG,UAAA,SAAS,EAAC,iBAAb;AAA+B,UAAA,KAAK,EAAE;AAAC,yBAAa;AAAd,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqET,KAAK,CAACQ,OAA3E,CArCA,eAsCA;AAAK,UAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,GAAG,EAAEhC,QAAV;AAAoB,UAAA,SAAS,EAAC,aAA9B;AACA,UAAA,OAAO,EAAE,MAAK4D,OAAL,CAAaC,IAAb,wDAAuBrC,KAAvB,CADT;AAEA,UAAA,KAAK,EAAC,UAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADF,eAMI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAG,UAAA,SAAS,EAAC,aAAb;AAA2B,UAAA,KAAK,EAAE;AAAC,qBAAS;AAAV,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGA,KAAK,CAACG,IADT,eACc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADd,eAEE,oBAAC,MAAD;AAAQ,UAAA,SAAS,EAAC,MAAlB;AAAyB,UAAA,OAAO,MAAhC;AAAiC,UAAA,KAAK,EAAC,MAAvC;AAA8C,UAAA,IAAI,EAAC,IAAnD;AACD,UAAA,OAAO,EAAE;AAAA,mBAAI,MAAKmC,YAAL,CAAkBtC,KAAlB,CAAJ;AAAA,WADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFF,CADF,CANJ,CAtCA,eAqDA;AAAK,UAAA,SAAS,EAAC,mBAAf;AAAmC,UAAA,KAAK,EAAE;AAAC,+BAAkB,SAAnB;AAA6B,yBAAY;AAAzC,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACCA,KAAK,CAACuC,QAAN,CAAejB,GAAf,CAAmB,UAACkB,KAAD,EAAQjB,KAAR,EAAkB;AAC1C,8BACA,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACE;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACI;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACE;AAAG,YAAA,SAAS,EAAC,iBAAb;AAAgC,YAAA,KAAK,EAAE;AAACK,cAAAA,KAAK,EAAC,SAAP;AAAiBC,cAAAA,UAAU,EAAC;AAA5B,aAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA6E7B,KAAK,CAACuC,QAAN,CAAehB,KAAf,EAAsB,UAAtB,CAA7E,CADF,eAEE;AAAO,YAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAoC1C,MAAM,CAACmB,KAAK,CAACuC,QAAN,CAAehB,KAAf,EAAsBQ,IAAtB,CAA2BC,KAA5B,CAAN,CAAyCC,MAAzC,CAAgD,aAAhD,CAApC,CAFF,CADJ,CADF,eAOE;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACE;AAAG,YAAA,SAAS,EAAC,iBAAb;AAA+B,YAAA,KAAK,EAAE;AAAC,2BAAa;AAAd,aAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAsEjC,KAAK,CAACuC,QAAN,CAAehB,KAAf,EAAsB,SAAtB,CAAtE,CADF,eAEE;AAAK,YAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,CAPF,CADA;AAcH,SAfQ,CADD,CArDA,CADE,CADJ,CADA,CADa;AAAA,OAAV,CAAP;AAgFH,KAjPW;;AAIZ,UAAKjC,KAAL,GAAa;AACTE,MAAAA,KAAK,EAAEN,OAAO,CAACuD,QAAR,CAAiBjD,KADf;AAETsC,MAAAA,QAAQ,EAAC5C,OAAO,CAACuD,QAAR,CAAiBX,QAFjB;AAGTvB,MAAAA,KAAK,EAAC,EAHG;AAITC,MAAAA,OAAO,EAAC,EAJC;AAKTC,MAAAA,QAAQ,EAAC,EALA;AAMTJ,MAAAA,KAAK,EAAC,EANG;AAOTL,MAAAA,KAAK,EAAC,EAPG;AAQTmB,MAAAA,GAAG,EAAC,EARK;AASTuB,MAAAA,IAAI,EAAC,IATI;AAUTzB,MAAAA,WAAW,EAAC,KAVH;AAWT1B,MAAAA,SAAS,EAAEX,UAAU,CAAC+D,aAXb;AAYTjC,MAAAA,EAAE,EAAC,IAZM;AAaTkC,MAAAA,IAAI,EAAC,KAbI;AAcTC,MAAAA,kBAAkB,EAAC;AAdV,KAAb;AAJY;AAqBf;;;;wCACwB;AACjB,WAAK1D,SAAL;AACH,K,CACD;;;;gCAcYa,K,EAAM;AAChB,WAAKD,QAAL,CAAc;AACdkB,QAAAA,WAAW,EAAC,CAAC,KAAK3B,KAAL,CAAW2B,WADV;AAEdP,QAAAA,EAAE,EAAEV,KAAK,CAAC8C,GAFI;AAGdvC,QAAAA,KAAK,EAAEP,KAAK,CAACO,KAHC;AAIdC,QAAAA,OAAO,EAAER,KAAK,CAACQ,OAJD;AAKdC,QAAAA,QAAQ,EAAET,KAAK,CAACS;AALF,OAAd;AAOD;;;iCACYT,K,EAAM;AACjB,WAAKD,QAAL,CAAc;AACd6C,QAAAA,IAAI,EAAC,CAAC,KAAKtD,KAAL,CAAWsD,IADH;AAEdlC,QAAAA,EAAE,EAAEV,KAAK,CAAC8C,GAFI;AAGd3C,QAAAA,IAAI,EAAEH,KAAK,CAACG;AAHE,OAAd;AAKD;;;sCACiBH,K,EAAM;AACtB,WAAKD,QAAL,CAAc;AACZ8C,QAAAA,kBAAkB,EAAC,CAAC,KAAKvD,KAAL,CAAWuD,kBADnB;AAEZnC,QAAAA,EAAE,EAAEV,KAAK,CAAC8C;AAFE,OAAd;AAID,K,CACD;;;;AAKF;+BACa1D,C,EAAE;AAAA;;AACb,UAAIe,IAAI,GAAG,KAAKb,KAAL,CAAWa,IAAtB;AACA,UAAIO,EAAE,GAAGtB,CAAC,CAACuB,IAAX;AACA,UAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAuBX,IAAvB;AACAS,MAAAA,QAAQ,CAACE,MAAT,CAAgB,IAAhB,EAAqBJ,EAArB;AACArC,MAAAA,KAAK,CAAC;AACE0C,QAAAA,GAAG,EAAE,KAAKzB,KAAL,CAAWC,SAAX,GAAuB,YAD9B;AAEEyB,QAAAA,MAAM,EAAE,MAFV;AAGEvB,QAAAA,OAAO,EAAC;AACJC,UAAAA,aAAa,EAAC;AADV,SAHV;AAMEO,QAAAA,IAAI,EAACW;AANP,OAAD,CAAL,CAOOjB,IAPP,CAOY,UAAAC,QAAQ,EAAI;AAChB,QAAA,MAAI,CAACT,SAAL;;AACA,QAAA,MAAI,CAACY,QAAL,CAAc;AACZ,iBAAOH,QAAQ,CAACK,IAAT,CAAckB,GADT;AAEZ,kBAAQ;AAFI,SAAd;AAIH,OAbL;AAcH,K,CACG;;;;AA0CA;4BACQ/B,C,EAAG;AACT,UAAM2D,KAAK,GAAE3D,CAAC,CAACe,IAAf;AACA,UAAM6C,OAAO,GAAE,KAAK1D,KAAL,CAAWC,SAAX,GAAsB,OAAtB,GAA8BwD,KAA7C;AACA1E,MAAAA,KAAK,CAAC;AACJ0C,QAAAA,GAAG,EAAEiC,OADD;AACU;AACdhC,QAAAA,MAAM,EAAE,KAFJ;AAGJiC,QAAAA,YAAY,EAAE,MAHV;AAIJhD,QAAAA,IAAI,EAAC;AACH,kBAAS8C;AADN,SAJD,CAMF;;AANE,OAAD,CAAL,CAOGpD,IAPH,CAOQ,UAACC,QAAD,EAAc;AACnB,YAAMmB,GAAG,GAAGmC,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2B,IAAIC,IAAJ,CAAS,CAACzD,QAAQ,CAACK,IAAV,CAAT,CAA3B,CAAZ;AACA,YAAMqD,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAb;AACAF,QAAAA,IAAI,CAACG,IAAL,GAAY1C,GAAZ;AACAuC,QAAAA,IAAI,CAACI,YAAL,CAAkB,UAAlB,EAA6BX,KAA7B,EAJmB,CAIkB;;AACrCQ,QAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,IAA1B;AACAA,QAAAA,IAAI,CAACO,KAAL;AACF,OAdD;AAeH,K,CACC;;;;6BACS1D,I,EAAK;AACd,UAAI2D,GAAG,GAAE3D,IAAT;;AACA,UAAGA,IAAI,KAAG,wBAAV,EAAmC;AAC/B2D,QAAAA,GAAG,GAAE,KAAKxE,KAAL,CAAWC,SAAX,GAAsB,OAAtB,GAA+BY,IAApC;AACD;;AACD,aAAO2D,GAAP;AACL,K,CACG;;;;6BAoFU;AAAA;;AACF,0BACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAI,QAAA,SAAS,EAAC,0BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,eAEC;AAAK,QAAA,SAAS,EAAC,wDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyE,KAAKxE,KAAL,CAAW6B,GAApF,CAFD,CADF,EAKK,KAAKC,aAAL,CAAmB,KAAK9B,KAAL,CAAWU,KAA9B,CALL,CADJ,eAQI,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAKV,KAAL,CAAW2B,WAA1B;AAAuC,QAAA,EAAE,EAAE,KAAK3B,KAAL,CAAWoB,EAAtD;AAA0D,QAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWiB,KAA5E;AAAmF,QAAA,OAAO,EAAE,KAAKjB,KAAL,CAAWkB,OAAvG;AAAgH,QAAA,QAAQ,EAAE,KAAKlB,KAAL,CAAWmB,QAArI;AAA+I,QAAA,IAAI,EAAE,KAAKnB,KAAL,CAAWa,IAAhK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,WAAD;AAAa,QAAA,MAAM,EAAE,KAAK+B,WAAL,CAAiBG,IAAjB,CAAsB,IAAtB,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAIE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAM,QAAA,UAAU,MAAhB;AAAiB,QAAA,QAAQ,EAAE,KAAK0B,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACZ;AAAO,QAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADY,eAEI;AAAO,QAAA,IAAI,EAAC,OAAZ;AACI,QAAA,SAAS,EAAC,cADd;AAEI,QAAA,IAAI,EAAC,OAFT;AAGI,QAAA,WAAW,EAAE,KAAKzE,KAAL,CAAWiB,KAH5B;AAII,QAAA,KAAK,EAAE,KAAKjB,KAAL,CAAWiB,KAJtB;AAKI,QAAA,QAAQ,EAAE,kBAAAnB,CAAC,EAAI;AAAC,UAAA,MAAI,CAACW,QAAL,qBAAgBX,CAAC,CAACgB,MAAF,CAAS4D,IAAzB,EAAgC5E,CAAC,CAACgB,MAAF,CAASoC,KAAzC;AAAiD,SALrE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADF,eAUE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAChB;AAAO,QAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADgB,eAEI,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,IAAI,EAAC,UAA1B;AAAqC,QAAA,EAAE,EAAC,UAAxC;AAAmD,QAAA,WAAW,EAAE,KAAKlD,KAAL,CAAWmB,QAA3E;AAAqF,QAAA,QAAQ,EAAE,kBAAArB,CAAC,EAAI;AAAC,UAAA,MAAI,CAACW,QAAL,CAAc;AAAC,wBAAYX,CAAC,CAACgB,MAAF,CAASoC;AAAtB,WAAd;AAA4C,SAAjJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAQ,QAAA,KAAK,EAAC,EAAd;AAAiB,QAAA,QAAQ,MAAzB;AAA0B,QAAA,QAAQ,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoC,KAAKlD,KAAL,CAAWmB,QAA/C,CADA,eAEA;AAAQ,QAAA,KAAK,EAAC,wBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFA,eAGA;AAAQ,QAAA,KAAK,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHA,eAIA;AAAQ,QAAA,KAAK,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAJA,CAFJ,CAVF,eAmBE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAO,QAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,QAAA,IAAI,EAAC,SAAZ;AACI,QAAA,SAAS,EAAC,cADd;AAC6B,QAAA,KAAK,EAAE;AAACwD,UAAAA,MAAM,EAAC;AAAR,SADpC;AAEI,QAAA,IAAI,EAAC,SAFT;AAGI,QAAA,WAAW,EAAE,KAAK3E,KAAL,CAAWkB,OAH5B;AAII,QAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWkB,OAJtB;AAKI,QAAA,QAAQ,EAAE,kBAAApB,CAAC,EAAI;AAAC,UAAA,MAAI,CAACW,QAAL,CAAc;AAAC,uBAAWX,CAAC,CAACgB,MAAF,CAASoC;AAArB,WAAd;AAA2C,SAL/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAnBF,eA4BE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAuB,QAAA,OAAO,EAAE,iBAACpD,CAAD;AAAA,iBAAK,MAAI,CAACkB,UAAL,CAAgB,MAAI,CAAChB,KAAL,CAAWoB,EAA3B,CAAL;AAAA,SAAhC;AAAqE,QAAA,SAAS,EAAC,kCAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA5BF,eA+BE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAE,KAAKwB,WAAL,CAAiBG,IAAjB,CAAsB,IAAtB,CAA/B;AAA4D,QAAA,SAAS,EAAC,+BAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA/BF,CADA,CAJF,CARJ,eAkDI,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAK/C,KAAL,CAAWsD,IAA1B;AAAgC,QAAA,EAAE,EAAE,KAAKtD,KAAL,CAAWoB,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,WAAD;AAAa,QAAA,MAAM,EAAE,KAAK4B,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,KAAK/C,KAAL,CAAW6B,GAAf,CAFF,CADF,eAKE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAO,QAAA,SAAS,EAAC,OAAjB;AAAwB,QAAA,IAAI,EAAC,MAA7B;AACJ,QAAA,IAAI,EAAC,MADD;AACQ,QAAA,QAAQ,EAAE,kBAAC/B,CAAD;AAAA,iBAAK,MAAI,CAACc,UAAL,CAAgBd,CAAhB,CAAL;AAAA,SADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADA,eAME;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAE;AAAA,iBAAI,MAAI,CAAC8E,UAAL,CAAgB,MAAI,CAAC5E,KAAL,CAAWoB,EAA3B,CAAJ;AAAA,SAA/B;AAAoE,QAAA,SAAS,EAAC,kCAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF,eASE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAE,KAAK4B,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAA/B;AAA6D,QAAA,SAAS,EAAC,+BAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBATF,CALF,CAlDJ,eAqEI,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAK/C,KAAL,CAAWuD,kBAA1B;AAA8C,QAAA,EAAE,EAAE,KAAKvD,KAAL,CAAWoB,EAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,WAAD;AAAa,QAAA,MAAM,EAAE,KAAKyB,iBAAL,CAAuBE,IAAvB,CAA4B,IAA5B,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,eAIE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDADF,CADF,eAIE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAE,iBAACjD,CAAD,EAAK;AAAC,UAAA,MAAI,CAAC8B,UAAL,CAAgBR,EAAhB;AAAoB,SAAzD;AAA0D,QAAA,SAAS,EAAC,+BAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAOE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAE,KAAKyB,iBAAL,CAAuBE,IAAvB,CAA4B,IAA5B,CAA/B;AAAkE,QAAA,SAAS,EAAC,mCAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,CAJF,CArEJ,CADF,eAuFD;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CAvFC,CADF;AA6FH;;;;EAjV8BxE,S;;SAAjBiB,Q","sourcesContent":["import React, { Component } from 'react';\nimport {Container, Row, Col} from \"reactstrap\";\nimport Footer from './Footer';\nimport { Button, Input} from 'reactstrap';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios';\nimport like from '../assets/images/like.png';\nimport dislike from '../assets/images/dislike.png';\nimport download from '../assets/images/download.png';\nimport {Modal, ModalHeader,ModalBody} from 'reactstrap';\nimport { UrlContext } from '../contexts/urlContext';\nimport moment from 'moment';\n\n\nexport default  class AllPosts extends Component {\n  constructor() {\n    const token = localStorage.usertoken\n    const decoded = jwt_decode(token)\n    super()\n    this.state = {\n        email: decoded.identity.email,\n        username:decoded.identity.username,\n        title:'',\n        content:'',\n        category:'',\n        files:'',\n        posts:[],\n        msg:'',\n        show:true,\n        modalIsOpen:false,\n        serverUrl: UrlContext._currentValue,\n        id:null,\n        Open:false,\n        deleteBoxModalOpen:false,\n\n    }\n}\n    componentDidMount () {\n        this.getMyPost()\n    }\n    // # function 1 retrieve my posts\n    getMyPost = (e) => {\n        axios.post(this.state.serverUrl +'get_post', {            \n                email:this.state.email\n            },{\n            headers:{\n                authorization:'usertoken'\n            },\n        }).then((response) => {\n            console.log(response);\n            this.setState({posts:response.data})\n            console.log('Data has been received!');\n          })\n    }\n    toggleModal(posts){\n      this.setState({\n      modalIsOpen:!this.state.modalIsOpen,\n      id: posts._id,\n      title: posts.title,\n      content: posts.content,\n      category: posts.category,\n    })\n    }\n    toggleModal1(posts){\n      this.setState({\n      Open:!this.state.Open,\n      id: posts._id,\n      file: posts.file\n    })\n    }\n    toggledeleteModal(posts){\n      this.setState({\n        deleteBoxModalOpen:!this.state.deleteBoxModalOpen,\n        id: posts._id,\n    })\n    }\n    // # function 2 handle file\n    handleFile = (e) => {\n      let file =e.target.files[0]\n      this.setState({file:file})\n  }\n  //  # function 3 update file\n    updateFile(e){\n    let file = this.state.file\n    let id = e.$oid\n    let formdata = new FormData()\n    formdata.append('file',file)\n    formdata.append('id',id)\n    axios({\n            url: this.state.serverUrl + 'updatefile',\n            method: 'POST',\n            headers:{\n                authorization:'usertoken'\n            },\n            data:formdata\n        }).then(response => {\n            this.getMyPost()\n            this.setState({        \n              'msg': response.data.msg,\n              'Open': false\n            })\n        })\n}\n    // # function 4 update post\n    updatePost=(e)=>{\n      let title = this.state.title\n      let content = this.state.content\n      let category = this.state.category\n      let id = e.$oid\n      let formdata = new FormData()\n      formdata.append('id',id)\n      formdata.append('category',category)\n      formdata.append('title',title)\n      formdata.append('content',content)\n      axios({\n       url: this.state.serverUrl + 'updatepost', \n        method: 'POST',\n        headers: {\n          authorization:'usertoken'\n        },\n        data: formdata\n      }).then((response) => {\n      this.getMyPost()\n      this.setState({        \n        modalIsOpen: false\n      })\n     });  \n    }\n    //  # function 5 delete post\n    deletePost = (e) => {\n      axios({\n        url: this.state.serverUrl +'deletepost', \n        method: 'DELETE',\n        data:{\n          \"id\": e.$oid\n        } \n      }).then((response) => {\n        console.log(\"updated new post!\")\n      this.getMyPost()\n      this.setState({        \n        'msg': response.data.msg,\n        'deleteBoxModalOpen': false\n      })\n      });        \n    } \n    // # function 6 download file\n    getFile(e) {\n      const fName =e.file\n      const urlFile =this.state.serverUrl +'file/'+fName\n      axios({\n        url: urlFile, //your url\n        method: 'Get',\n        responseType: 'blob',\n        data:{\n          \"file\":  fName\n        } // important\n      }).then((response) => {\n         const url = window.URL.createObjectURL(new Blob([response.data]));\n         const link = document.createElement('a');\n         link.href = url;\n         link.setAttribute('download',fName); //or any other extension\n         document.body.appendChild(link);\n         link.click();\n      });\n  }\n    //  # function 7 profile image\n    getImage(file){\n    let img =file\n    if(file!=='images/userProfile.png'){\n        img= this.state.serverUrl +'file/'+ file\n      }\n      return img\n}\n    // # function 8 loop through posts\n    displayMyPost = (posts) =>{\n        if(!posts.length) return <div className='jumbotron mx-auto mt-3' style={{\"width\":\"70%\"}}> <h4 className='text-center'>There is currently no posts yet</h4> </div>\n        return posts.map((posts,index)=>(\n            <Container>\n            <Row> \n                <Col lg={{ span: 3, offset: 2 }} md={{span:1,offset:1}}  sm=\"12\" >\n              <div className=\" jumbotron mt-5\" style={{\"width\":\"70%\",\"backgroundColor\":\"white\",\"outlineStyle\": \"solid\",\"outlineWidth\":\"1px\",\"outlineColor\":\"#5c7d92\",\"backgroundColor\":\"white\",\"boxShadow\":\"5px 5px 5px 5px #dfebf2\"}}>\n              <div className=\"row\">\n              <div className=\"col-sm-3 mt-0\">\n                    <img src={this.getImage(posts.userImage)} \n                    style={{\"width\": \"110px\",\"height\":\"110px\",\"margin-top\":\"-10px\",\n                    \"borderRadius\": \"50%\", \"border\":'solid 1px lightgrey'}}/>\n                  </div>\n                <div className=\"col-sm-8\">\n          <a className=\"mt-2 ml-2\"  style={{color:'#5c7d92',fontWeight:\"bold\"}}>{posts.username}</a>\n          <small className=\"text-muted mx-3\">{moment(posts.date.$date).format(\"DD/MMM/YYYY\")}</small>\n        <Button className=\"mx-2\" outline color=\"info\" size=\"sm\" onClick={()=>this.toggleModal(posts)}>Update</Button>\n        <Button outline color=\"danger\" size=\"sm\" onClick={()=>this.toggledeleteModal(posts)} >Delete Post</Button>\n                </div>\n              </div>\n              <hr />\n              <div className=\"row\">\n                <div className=\"col-sm-7\">\n                  <h2 className=\"text-left ml-3\" style={{color:'black'}}>{posts.title}</h2>\n                </div>\n                <div className=\"col-sm-1 \">\n                    <h6 className=\"ml-3\" style={{\"color\": \"darkgrey\"}}>\n                      {posts.like.length}\n                    </h6>\n                  </div>\n                <div className=\"col-sm-1\">\n                  <img src={like} className=\"like\" title=\"like\"/>\n                </div>\n                <div className=\"col-sm-1\">\n                  <img src={dislike} className=\"dislike\" title=\"dislike\"/>\n                </div>\n                <div className=\"col-sm-1 mx-2\">\n                    <h6 style={{\"color\": \"darkgrey\"}}>\n                      {posts.dislike.length}\n                    </h6>\n                  </div>\n              </div>\n              <p className=\" text-left ml-3\" style={{\"word-wrap\": \"break-word\"}} ><span className=\"font-weight-bold\">Category:</span> {posts.category}</p>\n              <p className=\" text-left ml-3\" style={{\"word-wrap\": \"break-word\"}} >{posts.content}</p>\n              <div className=\"row my-4 justify-content-start\">\n                <div className=\"col-sm-1\">\n                    <img src={download} className=\"downloadImg\" \n                    onClick={this.getFile.bind(this,posts)} \n                    title=\"download\"/>\n                  </div>\n                  <div className=\"col-sm-3\">\n                    <p className=\"text-nowrap\" style={{\"width\": \"6rem\"}}>\n                      {posts.file}<br/>\n                      <Button className=\"mt-2\" outline color=\"info\" size=\"sm\"\n                     onClick={()=>this.toggleModal1(posts)}>Update file</Button>\n                    </p>\n                  </div>\n                </div>\n            {/* comment box */}\n              <div className=\"row postBox mx-0 \" style={{\"backgroundColor\":\"#f0f0f0\",\"boxShadow\":\"4px 4px 4px 4px #f0f0f0\"}}>\n              {posts.comments.map((value, index) => {\n          return(\n          <React.Fragment>\n            <div className=\"row\">\n                <div className=\"col-sm-8\">\n                  <a className=\"mt-2 ml-2 small\"  style={{color:'#5c7d92',fontWeight:\"bold\"}}>{posts.comments[index]['username']}</a>\n                  <small className=\"text-muted mx-3\">{moment(posts.comments[index].date.$date).format(\"DD/MMM/YYYY\")}</small>\n                </div>\n            </div>\n            <div className=\"row col-sm-12\" >\n              <p className=\" text-left ml-3\" style={{\"word-wrap\": \"break-word\"}} > {posts.comments[index]['comment']}</p>\n              <div className=\"divider\"></div>\n            </div>\n          </React.Fragment>\n        );\n      })}\n  </div>\n  </div>            \n       </Col>\n       </Row>\n       </Container>\n        ));\n    }\n    render () {\n            return (\n              <React.Fragment>\n                <div>\n                    <div className=\"blog mt-5 mx-auto\">\n                      <div className='container'>\n                       <h2 className=\"mx-auto offset-lg-6 ml-5\">  </h2>\n                       <div className=\"mx-auto offset-lg-6 ml-5 text-success font-weight-bold\">{this.state.msg}</div>\n                       </div>\n                        {this.displayMyPost(this.state.posts)}\n                    </div>\n                    <Modal isOpen={this.state.modalIsOpen} id={this.state.id} title={this.state.title} content={this.state.content} category={this.state.category} file={this.state.file}>\n                      <ModalHeader toggle={this.toggleModal.bind(this)}>\n                        Update your post\n                      </ModalHeader>\n                      <ModalBody>\n                      <form noValidate onSubmit={this.onSubmit}>\n                        <div className=\"form-group\">\n            <label htmlFor=\"title\">Title</label>\n                            <input type=\"title\"\n                                className=\"form-control\"\n                                name=\"title\"\n                                placeholder={this.state.title}\n                                value={this.state.title}\n                                onChange={e => {this.setState({[e.target.name]: e.target.value})}}/>\n                        </div>\n                        <div className=\"form-group\">\n        <label htmlFor=\"category\">Category</label>\n                            <Input type=\"select\" name=\"category\" id=\"category\" placeholder={this.state.category} onChange={e => {this.setState({'category': e.target.value})}}>\n                            <option value=\"\" disabled selected>{this.state.category}</option>\n                            <option value=\"Advance Web Technology\">Advance Web Technology</option>\n                            <option value=\"Peer to Peer\">Peer to Peer</option>\n                            <option value=\"Internet of Things\">Internet of Things</option>\n                            </Input>\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"content\"> Content</label>\n                            <input type=\"content\"\n                                className=\"form-control\" style={{height:\"120px\"}}\n                                name=\"content\"\n                                placeholder={this.state.content}\n                                value={this.state.content}\n                                onChange={e => {this.setState({'content': e.target.value})}} />\n                        </div>\n                        <button type=\"submit\"  onClick={(e)=>this.updatePost(this.state.id)} className=\"btn btn-lg btn-primary btn-block\">\n                            Update\n                        </button>\n                        <button type=\"submit\" onClick={this.toggleModal.bind(this)} className=\"btn btn-lg btn-dark btn-block\">\n                            Cancel\n                        </button>\n                    </form>                     \n                    </ModalBody>       \n                    </Modal>\n                    <Modal isOpen={this.state.Open} id={this.state.id} >\n                      <ModalHeader toggle={this.toggleModal1.bind(this)}>\n                        Update your file\n                        <p>{this.state.msg}</p>\n                      </ModalHeader>\n                      <ModalBody>\n                      <div className=\"my-3\">\n                          <label> Select File</label>\n                          <input className=\"mb-2 \"type=\"file\" \n                      name=\"file\" onChange={(e)=>this.handleFile(e)} />\n                          </div>                   \n                        <button type=\"submit\" onClick={()=>this.updateFile(this.state.id)}  className=\"btn btn-lg btn-primary btn-block\">\n                            Update\n                        </button>\n                        <button type=\"submit\" onClick={this.toggleModal1.bind(this)} className=\"btn btn-lg btn-dark btn-block\">\n                            Cancel\n                        </button>\n                    </ModalBody>\n                    </Modal>\n                    <Modal isOpen={this.state.deleteBoxModalOpen} id={this.state.id} >\n                      <ModalHeader toggle={this.toggledeleteModal.bind(this)}>\n                        Delete the Post\n                      </ModalHeader>\n                      <ModalBody>\n                        <div className=\"my-3\">\n                          <label>Do you really want to delete your Post?</label>\n                        </div>    \n                        <button type=\"submit\" onClick={(e)=>{this.deletePost(id)}}className=\"btn btn-lg btn-dark btn-block\">\n                            Delete\n                        </button>\n                        <button type=\"submit\" onClick={this.toggledeleteModal.bind(this)} className=\"btn btn-lg btn-primary  btn-block\">\n                            Cancel\n                        </button>\n                    </ModalBody>\n                    </Modal>\n                </div>\n             <div className='container-fluid mt-5' > \n             <Footer />\n             </div>\n                 </React.Fragment>\n            )\n        }\n            \n    }\n"]},"metadata":{},"sourceType":"module"}