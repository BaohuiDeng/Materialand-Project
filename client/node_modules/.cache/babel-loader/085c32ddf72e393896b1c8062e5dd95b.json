{"ast":null,"code":"import _defineProperty from \"/Users/baohuideng/Downloads/testdeployUDE-master 2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/baohuideng/Downloads/testdeployUDE-master 2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/baohuideng/Downloads/testdeployUDE-master 2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/baohuideng/Downloads/testdeployUDE-master 2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/baohuideng/Downloads/testdeployUDE-master 2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/baohuideng/Downloads/testdeployUDE-master 2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/baohuideng/Downloads/testdeployUDE-master 2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/baohuideng/Downloads/testdeployUDE-master 2/client/src/components/Myposts.js\";\nimport React, { Component, useEffect } from 'react';\nimport { Container, Row, Col } from \"reactstrap\";\nimport Footer from './Footer';\nimport { Button, Form, FormGroup, Input } from 'reactstrap';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios';\nimport like from '../assets/images/like.png';\nimport dislike from '../assets/images/dislike.png';\nimport download from '../assets/images/download.png';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { UrlContext } from '../contexts/urlContext';\nimport moment from 'moment';\n\nvar AllPosts = /*#__PURE__*/function (_Component) {\n  _inherits(AllPosts, _Component);\n\n  function AllPosts() {\n    var _this;\n\n    _classCallCheck(this, AllPosts);\n\n    var token = localStorage.usertoken;\n    var decoded = jwt_decode(token);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AllPosts).call(this));\n\n    _this.getMyPost = function (e) {\n      axios.post(_this.state.serverUrl + 'get_post', {\n        email: _this.state.email\n      }, {\n        headers: {\n          authorization: 'usertoken'\n        }\n      }).then(function (response) {\n        console.log(response);\n\n        _this.setState({\n          posts: response.data\n        });\n\n        console.log('Data has been received!');\n\n        _this.getAllPost();\n      }).catch(function (error) {\n        // alert('Error retrieving data!!');\n        console.log('No Data');\n        console.log(error.response);\n        console.log('State', _this.state);\n      });\n    };\n\n    _this.handleFile = function (e) {\n      var file = e.target.files[0];\n\n      _this.setState({\n        file: file\n      });\n    };\n\n    _this.updatePost = function (e) {\n      //let file = this.state.file\n      var title = _this.state.title;\n      var content = _this.state.content;\n      var category = _this.state.category;\n      var id = e.$oid;\n      var formdata = new FormData(); // formdata.append('file',file)\n\n      formdata.append('id', id);\n      formdata.append('category', category);\n      formdata.append('title', title);\n      formdata.append('content', content);\n      axios({\n        url: _this.state.serverUrl + 'updatepost',\n        method: 'POST',\n        headers: {\n          authorization: 'usertoken'\n        },\n        data: formdata\n      }).then(function (response) {\n        // console.log(\"updated new post!\")\n        _this.getMyPost();\n\n        _this.setState({\n          'modalIsOpen': false\n        }); //window.location = '/mypost';\n\n      });\n    };\n\n    _this.deletePost = function (e) {\n      axios({\n        url: _this.state.serverUrl + 'deletepost',\n        method: 'DELETE',\n        data: {\n          \"id\": e.$oid\n        }\n      }).then(function (response) {\n        console.log(\"updated new post!\");\n\n        _this.getMyPost();\n\n        _this.setState({\n          'msg': response.data.msg,\n          'deleteBoxModalOpen': false\n        }); // window.location = '/mypost';\n\n      });\n    };\n\n    _this.displayMyPost = function (posts) {\n      if (!posts.length) return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jumbotron mx-auto mt-3\",\n        style: {\n          \"width\": \"70%\"\n        },\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 34\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"text-center\",\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 99\n        }\n      }, \"There is currently no posts yet\"), \" \");\n      return posts.map(function (posts, index) {\n        var _ref;\n\n        return /*#__PURE__*/React.createElement(Container, {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Row, {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          md: {\n            span: 3,\n            offset: 2\n          },\n          sm: {\n            span: 2,\n            offset: 1\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \" jumbotron mt-5\",\n          style: (_ref = {\n            \"width\": \"70%\",\n            \"backgroundColor\": \"white\",\n            \"outlineStyle\": \"solid\",\n            \"outlineWidth\": \"1px\",\n            \"outlineColor\": \"#5c7d92\"\n          }, _defineProperty(_ref, \"backgroundColor\", \"white\"), _defineProperty(_ref, \"boxShadow\", \"5px 5px 5px 5px #dfebf2\"), _ref),\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-3 mt-0\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: _this.getImage(posts.userImage),\n          style: {\n            \"width\": \"110px\",\n            \"height\": \"110px\",\n            \"margin-top\": \"-10px\",\n            \"borderRadius\": \"50%\",\n            \"border\": 'solid 1px lightgrey'\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 21\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-8\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          className: \"mt-2 ml-2\",\n          style: {\n            color: '#5c7d92',\n            fontWeight: \"bold\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 11\n          }\n        }, posts.username), /*#__PURE__*/React.createElement(\"small\", {\n          className: \"text-muted mx-3\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 11\n          }\n        }, moment(posts.date.$date).format(\"DD/MMM/YYYY\")), /*#__PURE__*/React.createElement(Button, {\n          className: \"mx-2\",\n          outline: true,\n          color: \"info\",\n          size: \"sm\",\n          onClick: function onClick() {\n            return _this.toggleModal(posts);\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 9\n          }\n        }, \"Update\"), /*#__PURE__*/React.createElement(Button, {\n          outline: true,\n          color: \"danger\",\n          size: \"sm\",\n          onClick: function onClick() {\n            return _this.toggledeleteModal(posts);\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 9\n          }\n        }, \"Delete Post\"))), /*#__PURE__*/React.createElement(\"hr\", {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-7\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h2\", {\n          className: \"text-left ml-3\",\n          style: {\n            color: 'black'\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 19\n          }\n        }, posts.title)), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1 \",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          className: \"ml-3\",\n          style: {\n            \"color\": \"darkgrey\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 21\n          }\n        }, posts.like.length)), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: like,\n          className: \"like\",\n          title: \"like\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: dislike,\n          className: \"dislike\",\n          title: \"dislike\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1 mx-2\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          style: {\n            \"color\": \"darkgrey\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 21\n          }\n        }, posts.dislike.length))), /*#__PURE__*/React.createElement(\"p\", {\n          className: \" text-left ml-3\",\n          style: {\n            \"word-wrap\": \"break-word\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font-weight-bold\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 83\n          }\n        }, \"Category:\"), \" \", posts.category), /*#__PURE__*/React.createElement(\"p\", {\n          className: \" text-left ml-3\",\n          style: {\n            \"word-wrap\": \"break-word\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }\n        }, posts.content), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row my-4 justify-content-start\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: download,\n          className: \"downloadImg\",\n          onClick: _this.getFile.bind(_assertThisInitialized(_assertThisInitialized(_this)), posts),\n          title: \"download\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 21\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-3\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"text-nowrap\",\n          style: {\n            \"width\": \"6rem\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 21\n          }\n        }, posts.file, /*#__PURE__*/React.createElement(\"br\", {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 35\n          }\n        }), /*#__PURE__*/React.createElement(Button, {\n          className: \"mt-2\",\n          outline: true,\n          color: \"info\",\n          size: \"sm\",\n          onClick: function onClick() {\n            return _this.toggleModal1(posts);\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 23\n          }\n        }, \"Update file\")))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row postBox mx-0 \",\n          style: {\n            \"backgroundColor\": \"#f0f0f0\",\n            \"boxShadow\": \"4px 4px 4px 4px #f0f0f0\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }\n        }, posts.comments.map(function (value, index) {\n          return /*#__PURE__*/React.createElement(React.Fragment, {\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 5\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"row\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 7\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"col-sm-8\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            className: \"mt-2 ml-2 small\",\n            style: {\n              color: '#5c7d92',\n              fontWeight: \"bold\"\n            },\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 13\n            }\n          }, posts.comments[index]['username']), /*#__PURE__*/React.createElement(\"small\", {\n            className: \"text-muted mx-3\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 13\n            }\n          }, moment(posts.comments[index].date.$date).format(\"DD/MMM/YYYY\")))), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"row col-sm-12\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 7\n            }\n          }, /*#__PURE__*/React.createElement(\"p\", {\n            className: \" text-left ml-3\",\n            style: {\n              \"word-wrap\": \"break-word\"\n            },\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 9\n            }\n          }, \" \", posts.comments[index]['comment']), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"divider\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 9\n            }\n          })));\n        }))))));\n      });\n    };\n\n    _this.state = {\n      'email': decoded.identity.email,\n      //'newemail':[],\n      'username': decoded.identity.username,\n      'title': '',\n      'content': '',\n      'category': '',\n      'image': 'images/Propic1.png',\n      files: '',\n      posts: [],\n      'msg': '',\n      'show': true,\n      modalIsOpen: false,\n      'serverUrl': UrlContext._currentValue,\n      id: null,\n      Open: false,\n      deleteBoxModalOpen: false\n    }; // this.updatePost = this.updatePost.bind(this)\n    // this.deletePost = this.deletePost.bind(this);\n\n    return _this;\n  }\n\n  _createClass(AllPosts, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getMyPost();\n    }\n  }, {\n    key: \"toggleModal\",\n    value: function toggleModal(posts) {\n      this.setState({\n        modalIsOpen: !this.state.modalIsOpen,\n        id: posts._id,\n        title: posts.title,\n        content: posts.content,\n        category: posts.category // file: posts.file\n\n      });\n    }\n  }, {\n    key: \"toggleModal1\",\n    value: function toggleModal1(posts) {\n      this.setState({\n        Open: !this.state.Open,\n        id: posts._id,\n        file: posts.file\n      });\n    }\n  }, {\n    key: \"toggledeleteModal\",\n    value: function toggledeleteModal(posts) {\n      this.setState({\n        deleteBoxModalOpen: !this.state.deleteBoxModalOpen,\n        id: posts._id\n      });\n    }\n  }, {\n    key: \"updateFile\",\n    value: function updateFile(e) {\n      var _this2 = this;\n\n      var file = this.state.file;\n      var id = e.$oid;\n      var formdata = new FormData();\n      formdata.append('file', file);\n      formdata.append('id', id);\n      axios({\n        url: this.state.serverUrl + 'updatefile',\n        method: 'POST',\n        headers: {\n          authorization: 'usertoken'\n        },\n        data: formdata\n      }).then(function (response) {\n        _this2.getMyPost();\n\n        _this2.setState({\n          'msg': 'file updated',\n          'Open': false\n        }); //  window.location='/mypost'\n\n      });\n    }\n  }, {\n    key: \"getFile\",\n    value: function getFile(e) {\n      var fName = e.file;\n      var urlFile = this.state.serverUrl + 'file/' + fName;\n      axios({\n        url: urlFile,\n        //your url\n        method: 'Get',\n        responseType: 'blob',\n        data: {\n          \"file\": fName\n        } // important\n\n      }).then(function (response) {\n        var url = window.URL.createObjectURL(new Blob([response.data]));\n        var link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', fName); //or any other extension\n\n        document.body.appendChild(link);\n        link.click();\n      });\n    }\n  }, {\n    key: \"getImage\",\n    value: function getImage(file) {\n      var img = file;\n\n      if (file !== 'images/userProfile.png') {\n        img = this.state.serverUrl + 'file/' + file;\n      }\n\n      return img;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"blog mt-5 mx-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"mx-auto offset-lg-6 ml-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 24\n        }\n      }, \"  \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mx-auto offset-lg-6 ml-5 font-weight-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 24\n        }\n      }, this.state.msg)), this.displayMyPost(this.state.posts)), /*#__PURE__*/React.createElement(Modal, {\n        isOpen: this.state.modalIsOpen,\n        id: this.state.id,\n        title: this.state.title,\n        content: this.state.content,\n        category: this.state.category,\n        file: this.state.file,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(ModalHeader, {\n        toggle: this.toggleModal.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 23\n        }\n      }, \"Update your post\"), /*#__PURE__*/React.createElement(ModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        noValidate: true,\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }\n      }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"title\",\n        className: \"form-control\",\n        name: \"title\",\n        placeholder: this.state.title,\n        value: this.state.title,\n        onChange: function onChange(e) {\n          _this3.setState({\n            'title': e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"category\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 9\n        }\n      }, \"Category\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"select\",\n        name: \"category\",\n        id: \"category\",\n        placeholder: this.state.category,\n        onChange: function onChange(e) {\n          _this3.setState({\n            'category': e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"Advance Web Technology\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"Advance Web Technology\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 29\n        }\n      }, \"Advance Web Technology\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"Peer to Peer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 29\n        }\n      }, \"Peer to Peer\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"Internet of Things\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 29\n        }\n      }, \"Internet of Things\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 29\n        }\n      }, \" Content\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"content\",\n        className: \"form-control\",\n        style: {\n          height: \"120px\"\n        },\n        name: \"content\",\n        placeholder: this.state.content,\n        value: this.state.content,\n        onChange: function onChange(e) {\n          _this3.setState({\n            'content': e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: function onClick(e) {\n          return _this3.updatePost(_this3.state.id);\n        },\n        className: \"btn btn-lg btn-primary btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 25\n        }\n      }, \"Update\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.toggleModal.bind(this),\n        className: \"btn btn-lg btn-dark btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 25\n        }\n      }, \"Cancel\")))), /*#__PURE__*/React.createElement(Modal, {\n        isOpen: this.state.Open,\n        id: this.state.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(ModalHeader, {\n        toggle: this.toggleModal1.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 23\n        }\n      }, \"Update your file\"), /*#__PURE__*/React.createElement(ModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"my-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 27\n        }\n      }, \" Select File\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"mb-2 \",\n        type: \"file\",\n        name: \"file\",\n        onChange: function onChange(e) {\n          return _this3.handleFile(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: function onClick() {\n          return _this3.updateFile(_this3.state.id);\n        },\n        className: \"btn btn-lg btn-primary btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 25\n        }\n      }, \"Update\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.toggleModal1.bind(this),\n        className: \"btn btn-lg btn-dark btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 25\n        }\n      }, \"Cancel\"))), /*#__PURE__*/React.createElement(Modal, {\n        isOpen: this.state.deleteBoxModalOpen,\n        id: this.state.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(ModalHeader, {\n        toggle: this.toggledeleteModal.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 23\n        }\n      }, \"Delete the Post\"), /*#__PURE__*/React.createElement(ModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"my-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 27\n        }\n      }, \"Do u really want to delete your Post?\")), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: function onClick(e) {\n          _this3.deletePost(_this3.state.id);\n        },\n        className: \"btn btn-lg btn-dark btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 25\n        }\n      }, \"Delete\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.toggledeleteModal.bind(this),\n        className: \"btn btn-lg btn-primary  btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 25\n        }\n      }, \"Cancel\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 14\n        }\n      })));\n    }\n  }]);\n\n  return AllPosts;\n}(Component);\n\nexport { AllPosts as default };","map":{"version":3,"sources":["/Users/baohuideng/Downloads/testdeployUDE-master 2/client/src/components/Myposts.js"],"names":["React","Component","useEffect","Container","Row","Col","Footer","Button","Form","FormGroup","Input","jwt_decode","axios","like","dislike","download","Modal","ModalHeader","ModalBody","ModalFooter","UrlContext","moment","AllPosts","token","localStorage","usertoken","decoded","getMyPost","e","post","state","serverUrl","email","headers","authorization","then","response","console","log","setState","posts","data","getAllPost","catch","error","handleFile","file","target","files","updatePost","title","content","category","id","$oid","formdata","FormData","append","url","method","deletePost","msg","displayMyPost","length","map","index","span","offset","getImage","userImage","color","fontWeight","username","date","$date","format","toggleModal","toggledeleteModal","getFile","bind","toggleModal1","comments","value","identity","modalIsOpen","_currentValue","Open","deleteBoxModalOpen","_id","fName","urlFile","responseType","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","img","onSubmit","height","updateFile"],"mappings":"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","sourcesContent":["import React, { Component, useEffect } from 'react';\nimport {Container, Row, Col} from \"reactstrap\";\nimport Footer from './Footer';\nimport { Button, Form,FormGroup,  Input} from 'reactstrap';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios';\nimport like from '../assets/images/like.png';\nimport dislike from '../assets/images/dislike.png';\nimport download from '../assets/images/download.png';\nimport {Modal, ModalHeader,ModalBody,ModalFooter } from 'reactstrap';\nimport { UrlContext } from '../contexts/urlContext';\nimport moment from 'moment';\n\n\n\n\nexport default  class AllPosts extends Component {\n  constructor() {\n    const token = localStorage.usertoken\n    const decoded = jwt_decode(token)\n    super()\n    this.state = {\n        'email':decoded.identity.email,\n        //'newemail':[],\n        'username':decoded.identity.username,\n        'title':'',\n        'content':'',\n        'category':'',\n        'image':'images/Propic1.png',\n        files:'',\n         posts:[],\n         'msg':'',\n         'show':true,\n         modalIsOpen:false,\n         'serverUrl': UrlContext._currentValue,\n         id:null,\n         Open:false,\n         deleteBoxModalOpen:false,\n\n    }\n    // this.updatePost = this.updatePost.bind(this)\n    // this.deletePost = this.deletePost.bind(this);\n\n    \n}\n\n    componentDidMount () {\n     \n        this.getMyPost()\n        \n    }\n\n    getMyPost = (e) => {\n        axios.post(this.state.serverUrl +'get_post', {            \n                email:this.state.email\n            },{\n            headers:{\n                authorization:'usertoken'\n            },\n            \n        }).then((response) => {\n            console.log(response);\n            this.setState({posts:response.data})\n            console.log('Data has been received!');\n            this.getAllPost()\n\n          })\n          .catch((error)=>{\n           // alert('Error retrieving data!!');\n           console.log('No Data')\n           console.log(error.response);\n           console.log('State',this.state);\n           \n        });\n    }\n  \n    toggleModal(posts){\n      this.setState({\n      modalIsOpen:!this.state.modalIsOpen,\n      id: posts._id,\n      title: posts.title,\n      content: posts.content,\n      category: posts.category,\n     // file: posts.file\n    })\n    }\n    toggleModal1(posts){\n      this.setState({\n      Open:!this.state.Open,\n      id: posts._id,\n      file: posts.file\n    })\n    }\n    toggledeleteModal(posts){\n      this.setState({\n        deleteBoxModalOpen:!this.state.deleteBoxModalOpen,\n        id: posts._id,\n    })\n    }\n    handleFile = (e) => {\n      let file =e.target.files[0]\n      this.setState({file:file})\n  }\n  updateFile(e){\n    let file = this.state.file\n    let id = e.$oid\n    let formdata = new FormData()\n    formdata.append('file',file)\n    formdata.append('id',id)\n  \n    axios({\n            url: this.state.serverUrl + 'updatefile',\n            method: 'POST',\n            headers:{\n                authorization:'usertoken'\n            },\n            data:formdata\n              \n        }).then(response => {\n            this.getMyPost()\n            this.setState({        \n              'msg': 'file updated',\n              'Open': false\n            })\n            \n            //  window.location='/mypost'\n\n        })\n}\n   \n\n\n    updatePost=(e)=>{\n      //let file = this.state.file\n      let title = this.state.title\n      let content = this.state.content\n      let category = this.state.category\n      let id = e.$oid\n      let formdata = new FormData()\n     // formdata.append('file',file)\n      formdata.append('id',id)\n      formdata.append('category',category)\n      formdata.append('title',title)\n      formdata.append('content',content)\n\n\n      axios({\n       url: this.state.serverUrl + 'updatepost', \n        method: 'POST',\n        headers: {\n          authorization:'usertoken'\n        },\n        data: formdata\n      }).then((response) => {\n    \n        // console.log(\"updated new post!\")\n\n      this.getMyPost()\n\n      this.setState({        \n\n        'modalIsOpen': false\n      })\n      //window.location = '/mypost';\n\n     });  \n    }\n    \n    deletePost = (e) => {\n\n      axios({\n        url: this.state.serverUrl +'deletepost', \n        method: 'DELETE',\n        data:{\n          \"id\": e.$oid\n        } \n      }).then((response) => {\n\n        console.log(\"updated new post!\")\n\n      this.getMyPost()\n\n      this.setState({        \n        'msg': response.data.msg,\n        'deleteBoxModalOpen': false\n      })\n        // window.location = '/mypost';\n      });        \n    } \n\n    getFile(e) {\n      const fName =e.file\n      const urlFile =this.state.serverUrl +'file/'+fName\n      axios({\n        url: urlFile, //your url\n        method: 'Get',\n        responseType: 'blob',\n        data:{\n          \"file\":  fName\n        } // important\n      }).then((response) => {\n         const url = window.URL.createObjectURL(new Blob([response.data]));\n         const link = document.createElement('a');\n         link.href = url;\n         link.setAttribute('download',fName); //or any other extension\n         document.body.appendChild(link);\n         link.click();\n      });\n  }\n\n\n  getImage(file){\n    let img =file\n    if(file!=='images/userProfile.png'){\n        img= this.state.serverUrl +'file/'+ file\n      }\n      return img\n}\n\n\n    displayMyPost = (posts) =>{\n        if(!posts.length) return <div className='jumbotron mx-auto mt-3' style={{\"width\":\"70%\"}}> <h4 className='text-center'>There is currently no posts yet</h4> </div>\n\n        return posts.map((posts,index)=>(\n            <Container>\n\n\n            <Row> \n                <Col md={{ span: 3, offset: 2 }}  sm={{span:2,offset:1}} >\n              <div className=\" jumbotron mt-5\" style={{\"width\":\"70%\",\"backgroundColor\":\"white\",\"outlineStyle\": \"solid\",\"outlineWidth\":\"1px\",\"outlineColor\":\"#5c7d92\",\"backgroundColor\":\"white\",\"boxShadow\":\"5px 5px 5px 5px #dfebf2\"}}>\n              <div className=\"row\">\n              <div className=\"col-sm-3 mt-0\">\n                    <img src={this.getImage(posts.userImage)} \n                    style={{\"width\": \"110px\",\"height\":\"110px\",\"margin-top\":\"-10px\",\n                    \"borderRadius\": \"50%\", \"border\":'solid 1px lightgrey'}}/>\n                  </div>\n    \n                <div className=\"col-sm-8\">\n          <a className=\"mt-2 ml-2\"  style={{color:'#5c7d92',fontWeight:\"bold\"}}>{posts.username}</a>\n          <small className=\"text-muted mx-3\">{moment(posts.date.$date).format(\"DD/MMM/YYYY\")}</small>\n         \n\n        <Button className=\"mx-2\" outline color=\"info\" size=\"sm\" onClick={()=>this.toggleModal(posts)}>Update</Button>\n        <Button outline color=\"danger\" size=\"sm\" onClick={()=>this.toggledeleteModal(posts)} >Delete Post</Button>\n\n                </div>\n                \n              </div>\n              <hr />\n              <div className=\"row\">\n                <div className=\"col-sm-7\">\n                  <h2 className=\"text-left ml-3\" style={{color:'black'}}>{posts.title}</h2>\n                </div>\n                <div className=\"col-sm-1 \">\n                    <h6 className=\"ml-3\" style={{\"color\": \"darkgrey\"}}>\n                      {posts.like.length}\n                    </h6>\n                  </div>\n                <div className=\"col-sm-1\">\n                  <img src={like} className=\"like\" title=\"like\"/>\n                </div>\n                <div className=\"col-sm-1\">\n                  <img src={dislike} className=\"dislike\" title=\"dislike\"/>\n                </div>\n                <div className=\"col-sm-1 mx-2\">\n                    <h6 style={{\"color\": \"darkgrey\"}}>\n                      {posts.dislike.length}\n                    </h6>\n                  </div>\n              </div>\n              <p className=\" text-left ml-3\" style={{\"word-wrap\": \"break-word\"}} ><span className=\"font-weight-bold\">Category:</span> {posts.category}</p>\n              <p className=\" text-left ml-3\" style={{\"word-wrap\": \"break-word\"}} >{posts.content}</p>\n  \n              <div className=\"row my-4 justify-content-start\">\n                <div className=\"col-sm-1\">\n                    <img src={download} className=\"downloadImg\" \n                    onClick={this.getFile.bind(this,posts)} \n                    title=\"download\"/>\n                  </div>\n                  <div className=\"col-sm-3\">\n                    <p className=\"text-nowrap\" style={{\"width\": \"6rem\"}}>\n                      {posts.file}<br/>\n                      <Button className=\"mt-2\" outline color=\"info\" size=\"sm\"\n                     onClick={()=>this.toggleModal1(posts)}>Update file</Button>\n                    </p>\n                   \n                  </div>\n                 \n            \n                </div>\n              \n  \n            {/* comment box */}\n  \n              <div className=\"row postBox mx-0 \" style={{\"backgroundColor\":\"#f0f0f0\",\"boxShadow\":\"4px 4px 4px 4px #f0f0f0\"}}>\n  \n\n{posts.comments.map((value, index) => {\n  return(\n    <React.Fragment>\n      <div className=\"row\">\n          <div className=\"col-sm-8\">\n            <a className=\"mt-2 ml-2 small\"  style={{color:'#5c7d92',fontWeight:\"bold\"}}>{posts.comments[index]['username']}</a>\n            <small className=\"text-muted mx-3\">{moment(posts.comments[index].date.$date).format(\"DD/MMM/YYYY\")}</small>\n          </div>\n      </div>\n      <div className=\"row col-sm-12\" >\n        <p className=\" text-left ml-3\" style={{\"word-wrap\": \"break-word\"}} > {posts.comments[index]['comment']}</p>\n        <div className=\"divider\"></div>\n      </div>\n    </React.Fragment>\n  );\n})}\n               \n           \n  \n   \n  </div>\n  </div>\n  \n                  \n       </Col>\n       </Row>\n       </Container>\n\n        ));\n    }\n\n\n    \n    render () {\n        \n    \n      \n            return (\n\n              <React.Fragment>\n\n                <div>\n                    <div className=\"blog mt-5 mx-auto\">\n                      <div className='container'>\n                       <h2 className=\"mx-auto offset-lg-6 ml-5\">  </h2>\n                       <div className=\"mx-auto offset-lg-6 ml-5 font-weight-bold\">{this.state.msg}</div>\n                       </div>\n                        {this.displayMyPost(this.state.posts)}\n                    </div>\n                    <Modal isOpen={this.state.modalIsOpen} id={this.state.id} title={this.state.title} content={this.state.content} category={this.state.category} file={this.state.file}>\n                      <ModalHeader toggle={this.toggleModal.bind(this)}>\n                        Update your post\n                      </ModalHeader>\n                      <ModalBody>\n                      <form noValidate onSubmit={this.onSubmit}>\n                        <div className=\"form-group\">\n            <label htmlFor=\"title\">Title</label>\n                            <input type=\"title\"\n                                className=\"form-control\"\n                                name=\"title\"\n                                placeholder={this.state.title}\n                                value={this.state.title}\n                                onChange={e => {this.setState({'title': e.target.value})}}/>\n                        </div>\n                        <div className=\"form-group\">\n        <label htmlFor=\"category\">Category</label>\n                            <Input type=\"select\" name=\"category\" id=\"category\" placeholder={this.state.category} onChange={e => {this.setState({'category': e.target.value})}}>\n                            <option value=\"Advance Web Technology\"></option>\n                            <option value=\"Advance Web Technology\">Advance Web Technology</option>\n                            <option value=\"Peer to Peer\">Peer to Peer</option>\n                            <option value=\"Internet of Things\">Internet of Things</option>\n                            </Input>\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"content\"> Content</label>\n                            <input type=\"content\"\n                                className=\"form-control\" style={{height:\"120px\"}}\n                                name=\"content\"\n                                placeholder={this.state.content}\n                                value={this.state.content}\n                                onChange={e => {this.setState({'content': e.target.value})}} />\n                        </div>\n                       \n                    \n\n                        <button type=\"submit\"  onClick={(e)=>this.updatePost(this.state.id)} className=\"btn btn-lg btn-primary btn-block\">\n                            Update\n                        </button>\n                        <button type=\"submit\" onClick={this.toggleModal.bind(this)} className=\"btn btn-lg btn-dark btn-block\">\n                            Cancel\n                        </button>\n                    </form>                     \n                    </ModalBody>\n                     \n                      \n                    </Modal>\n\n                    <Modal isOpen={this.state.Open} id={this.state.id} >\n                      <ModalHeader toggle={this.toggleModal1.bind(this)}>\n                        Update your file\n                      </ModalHeader>\n                      <ModalBody>\n                      \n               \n                      <div className=\"my-3\">\n                          <label> Select File</label>\n                          \n                          <input className=\"mb-2 \"type=\"file\" \n name=\"file\" onChange={(e)=>this.handleFile(e)} />\n                          </div>                   \n                        <button type=\"submit\" onClick={()=>this.updateFile(this.state.id)}  className=\"btn btn-lg btn-primary btn-block\">\n                            Update\n                        </button>\n                        <button type=\"submit\" onClick={this.toggleModal1.bind(this)} className=\"btn btn-lg btn-dark btn-block\">\n                            Cancel\n                        </button>\n                    </ModalBody>\n                    </Modal>\n\n\n                    <Modal isOpen={this.state.deleteBoxModalOpen} id={this.state.id} >\n                      <ModalHeader toggle={this.toggledeleteModal.bind(this)}>\n                        Delete the Post\n                      </ModalHeader>\n                      <ModalBody>\n                      \n               \n                        <div className=\"my-3\">\n                          <label>Do u really want to delete your Post?</label>\n                        </div>    \n\n                        <button type=\"submit\" onClick={(e)=>{this.deletePost(this.state.id)}}className=\"btn btn-lg btn-dark btn-block\">\n                            Delete\n                        </button>\n                        <button type=\"submit\" onClick={this.toggledeleteModal.bind(this)} className=\"btn btn-lg btn-primary  btn-block\">\n                            Cancel\n                        </button>\n                    </ModalBody>\n                    </Modal>\n\n                \n                </div>\n             <div className='container-fluid mt-5' > \n             <Footer />\n             </div>\n                 </React.Fragment>\n            )\n        }\n            \n    }\n"]},"metadata":{},"sourceType":"module"}